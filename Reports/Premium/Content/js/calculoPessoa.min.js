function mudaPassosPF(n){var s=document.getElementById("dvBuscaPessoa"),t=document.getElementById("dvProponentesPF1"),i=document.getElementById("dvProponentesPF2"),r=document.getElementById("dvSeguroPF"),u=document.getElementById("dvValorTotalPF"),f=document.getElementById("dvProponentesPJ"),e=document.getElementById("dvProponentePJSoc"),o=document.getElementById("dvPessoaJuridica");$("#txtCPF_CNPJ").show();$("#txtBuscaPessoaPF").hide();$("#btnPessoaPF").text()=="CPF"&&($("#txtBuscaPessoaPF").show(),$("#txtBuscaPessoaPF").focus());switch(n){case"1":case 1:o.style.display="none";dvPessoaFisica.style.display="block";t.style.display="none";i.style.display="none";r.style.display="block";u.style.display="none";f.style.display="none";e.style.display="none";break;case"2":case 2:validaSeguro()&&(CalcularCotacao(),o.style.display="none",dvPessoaFisica.style.display="block",t.style.display="none",i.style.display="none",r.style.display="block",u.style.display="block",f.style.display="none",e.style.display="none");break;case"3":case 3:$("#nav-form1").text("Cotação");$("#nav-form2").text("Dados do Proponente");o.style.display="none";dvPessoaFisica.style.display="block";t.style.display="block";i.style.display="none";r.style.display="none";u.style.display="none";f.style.display="none";e.style.display="none";break;case"4":case 4:validaProponentePF()&&($("#nav-form1").text("Cotação"),$("#nav-form2").text("Dados do Proponente"),o.style.display="none",dvPessoaFisica.style.display="block",t.style.display="none",i.style.display="block",r.style.display="none",u.style.display="none",f.style.display="none",e.style.display="none");break;case"5":case 5:validaProponentePF2()&&SalvarCalculoPF()}}function CalcularCotacao(){var t=$("#txtValorEqui").val(),n;t=(t.replace(/[^\d]+/g,"")/100).toFixed(2);n=$("#txtValorProj").val();n=(n.replace(/[^\d]+/g,"")/100).toFixed(2);$.ajax({method:"POST",url:"calculoPessoa.aspx/CalcularCotacao",data:"{vlrEquip: "+t+", vlrProj: "+n+"}",contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){$("#spVlrTotal, #spVlrTotalFt").text(n.d)})}function SalvarCalculoPF(){var e=$("#txtDtInicioObra").val(),n,t,i,r,u,o,s,h,f,c;e=e.split("/");e=e[1]+"-"+e[0]+"-"+e[2];n=$("#txtDtFimObra").val();n=n.split("/");n=n[1]+"-"+n[0]+"-"+n[2];t=$("#txtDataInicialEquip").val();t=t.split("/");t=t[1]+"-"+t[0]+"-"+t[2];i=$("#txtDataFinalEquip").val();i=i.split("/");i=i[1]+"-"+i[0]+"-"+i[2];r=$("#txtDtExpedPF").val();r=r.split("/");r=r[1]+"-"+r[0]+"-"+r[2];u=$("#txtDtNascPF").val();u=u.split("/");u=u[1]+"-"+u[0]+"-"+u[2];o=$("#txtValorEqui").val();o=(o.replace(/[^\d]+/g,"")/100).toFixed(2);s=$("#txtValorProj").val();s=(s.replace(/[^\d]+/g,"")/100).toFixed(2);h=$("#spVlrTotal").text();h=(h.replace(/[^\d]+/g,"")/100).toFixed(2);f=$("#hddIdSegurado").val();f.length==0&&(f=0);c={objOrcamento:{IdSegurado:f,DataCalculo:"",DataInicioObra:e,DataFinalObra:n,DataEmissaoApolice:"",DataInicioEquip:t,DataFinalEquip:i,ValorEquip:o,ValorProjeto:s,ValorOrcTotal:h,LocalRisco:$("#txtLocalRisco").val(),NumeroLocalRisco:$("#txtRiscoNum").val(),ComplementoLocalRisco:$("#txtRiscoComp").val(),CepLocalRisco:$("#txtRiscoCEP").val().replace(/[^\d]+/g,""),BairroRisco:$("#txtRiscoBairro").val(),CidadeRisco:$("#txtRiscoCidade").val(),UF_Risco:$("#txtRiscoUF").val(),ValorPremioLiquido:0,IOF:0,ValorPremioTotal:0,IdFormaPagamento:1,IdStatus:3,CodigoBanco:"001",IdOpcaoPagamento:1,Segurado:{IdSegurado:f,IdOrcamento:1,Nome:$("#txtNomePF").val(),CPF_CNPJ:$("#txtBuscaPessoaPF").val().replace(/[^\d]+/g,""),RazaoSocial:"",NomeFantasia:"",DataAbertura:"",NaturezaAtividade:"",RG:$("#txtRGPF").val(),OrgaoExp:$("#txtOrgExpPF").val(),DataExp:r,Profissao:$("#txtProfissaoPF").val(),DataNascimento:u,Celular:$("#txtCelularPF").val().replace(/[^\d]+/g,""),FoneComercial:"",FoneResidencial:"",Pep:"",PepProfissao:"",Deletado:!1,Enderecos:[{Logradouro:$("#txtLogrPF").val(),Numero:$("#txtNumPF").val(),Bairro:$("#txtBairroPF").val(),Cidade:$("#txtCidadePF").val(),IdTipoEndereco:4,IdSegurado:f,UF:$("#txtUFPF").val(),CEP:$("#txtCEPPF").val().replace(/[^\d]+/g,""),Deletado:!1}],PatrimonioSegurado:[{IdPatrimonio:$("input[name=radioPatrimonio]:checked").val(),IdSegurado:f,IdTipoPatrimonio:1,Deletado:!1},{IdPatrimonio:$("input[name=radioRenda]:checked").val(),IdSegurado:f,IdTipoPatrimonio:2,Deletado:!1}]}}};$.ajax({method:"POST",url:"calculoPessoa.aspx/SalvarCalculo",data:JSON.stringify(c),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){if(n.d.MsgErro){alert(n.d.MsgErro);var t="http://"+window.location.hostname+":"+window.location.port+"/Administracao/ManterUsuario.aspx";window.location.replace(t)}resultado=fomatarMoeda(n.d.ValorOrcTotal);$("#spVlrTotal, #spVlrTotalFt").text(String(resultado))})}function SalvarCalculoPJ(){var u=$("#txtDtInicioObra").val(),n,t,i,r,e,o,s,f,h;u=u.split("/");u=u[1]+"-"+u[0]+"-"+u[2];n=$("#txtDtFimObra").val();n=n.split("/");n=n[1]+"-"+n[0]+"-"+n[2];t=$("#txtDataInicialEquip").val();t=t.split("/");t=t[1]+"-"+t[0]+"-"+t[2];i=$("#txtDataFinalEquip").val();i=i.split("/");i=i[1]+"-"+i[0]+"-"+i[2];r=$("#txtDtAberturaPJ").val();r=r.split("/");r=r[1]+"-"+r[0]+"-"+r[2];e=$("#txtValorEqui").val();e=e.replace(/[^\d]+/g,"");o=$("#txtValorProj").val();o=o.replace(/[^\d]+/g,"");s=$("#spVlrTotal").text();s=(s.replace(/[^\d]+/g,"")/100).toFixed(2);f=$("#hddIdSegurado").val();f.length==0&&(f=0);h={objOrcamento:{IdSegurado:f,DataCalculo:"",DataInicioObra:u,DataFinalObra:n,DataInicioEquip:t,DataFinalEquip:i,ValorOrcTotal:s,ValorEquip:e,ValorProjeto:o,LocalRisco:$("#txtLocalRisco").val(),NumeroLocalRisco:$("#txtRiscoNum").val(),ComplementoLocalRisco:$("#txtRiscoComp").val(),CepLocalRisco:$("#txtRiscoCEP").val().replace(/[^\d]+/g,""),BairroRisco:$("#txtRiscoBairro").val(),CidadeRisco:$("#txtRiscoCidade").val(),UF_Risco:$("#txtRiscoUF").val(),ValorPremioLiquido:0,IOF:0,ValorPremioTotal:0,IdFormaPagamento:1,IdStatus:3,CodigoBanco:"001",IdOpcaoPagamento:1,Segurado:{IdSegurado:f,Nome:$("#txtNomePJ").val(),CPF_CNPJ:$("#txtBuscaPessoaPJ").val().replace(/[^\d]+/g,""),RazaoSocial:$("#txtRazaoSocialPJ").val(),NomeFantasia:$("#txtNomeFantasiaPJ").val(),DataAbertura:r,NaturezaAtividade:$("#txtNtAtividade").val(),RG:$("#txtRGPJ").val(),OrgaoExp:$("#txtOrgExpPJ").val(),Profissao:$("#txtProfissaoPJ").val(),DataNascimento:"",FoneComercial:"",FoneResidencial:"",Pep:"",PepProfissao:"",Deletado:!1,Enderecos:[{Logradouro:$("#txtLogrPJ").val(),Numero:$("#txtNumPJ").val(),Bairro:$("#txtBairroPJ").val(),Cidade:$("#txtCidadePJ").val(),IdTipoEndereco:4,IdSegurado:f,UF:$("#txtUFPJ").val(),CEP:$("#txtCEPPJ").val().replace(/[^\d]+/g,""),Deletado:!1}],PatrimonioSegurado:[{IdPatrimonio:$("input[name=radioFaturamento]:checked").val(),IdSegurado:f,IdTipoPatrimonio:3,Deletado:!1}]}}};h.objOrcamento.Segurado.Societarios=[];objSocietariosList.forEach(function(n){var t=n.Pep=="não"?!1:!0,i={Nome:n.Nome,GrauRelacionamento:n.GrauRelacionamento,Modalidade:n.Modalidade,Pep:t,PepProfissao:n.PepProfissao,Deletado:n.Deletado};h.objOrcamento.Segurado.Societarios.push(i)});$.ajax({method:"POST",url:"calculoPessoa.aspx/SalvarCalculo",data:JSON.stringify(h),contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){if(n.d.MsgErro){alert(n.d.MsgErro);var t="http://"+window.location.hostname+":"+window.location.port+"/Administracao/ManterUsuario.aspx";window.location.replace(t)}resultado=fomatarMoeda(n.d.ValorOrcTotal);$("#spVlrTotal, #spVlrTotalFt").text(String(resultado))})}function mudaPassosPJ(n){var t=document.getElementById("dvProponentesPF1"),i=document.getElementById("dvProponentesPF2"),r=document.getElementById("dvSeguroPF"),u=document.getElementById("dvValorTotalPF"),f=document.getElementById("dvProponentesPJ"),e=document.getElementById("dvProponentePJSoc"),o=document.getElementById("dvPessoaFisica");$("#txtCPF_CNPJ").show();$("#txtBuscaPessoaPJ").focus();switch(n){case"1":case 1:$("#txtCPF_CNPJ").show();$("#txtBuscaPessoaPF").focus();$("#nav-form1").text("Cotação");$("#nav-form2").text("Dados do Seguro");dvPessoaJuridica.style.display="block";o.style.display="none";t.style.display="none";i.style.display="none";r.style.display="block";u.style.display="none";f.style.display="none";e.style.display="none";break;case"2":case 2:validaSeguro()&&($("#nav-form1").text("Cotação"),$("#nav-form2").text("Dados do Seguro"),dvPessoaJuridica.style.display="block",o.style.display="block",t.style.display="none",i.style.display="none",r.style.display="block",u.style.display="block",f.style.display="none",e.style.display="none");break;case"3":case 3:$("#nav-form1").text("Cotação");$("#nav-form2").text("Dados do Proponente");dvPessoaJuridica.style.display="block";o.style.display="none";t.style.display="none";i.style.display="none";r.style.display="none";u.style.display="none";f.style.display="block";e.style.display="none";break;case"4":case 4:validaProponentePJ()&&($("#nav-form1").text("Cotação"),$("#nav-form2").text("Dados do Proponente"),dvPessoaJuridica.style.display="block",o.style.display="none",t.style.display="none",i.style.display="none",r.style.display="none",u.style.display="none",f.style.display="none",e.style.display="block");break;case"5":case 5:SalvarCalculoPJ()}}function validaData(n){var i=$("#"+n.id),e=i.val(),f=new Date,o=f.getDate(),s=f.getMonth()+1,r=f.getFullYear(),h=o+"/"+s+"/"+r,t=[],u=[];if(t=e.split("/"),u=h.split("/"),i.val()==""||i.val().length<10)return $("#"+n.id).css("border-color","red"),$("#SP"+n.id).show(),$("#SP"+n.id).text("Insira uma data de válida!"),!1;if(i.val()!=""){if(t[0]>31||t[1]>12)return $("#"+n.id).css("border-color","red"),$("#SP"+n.id).show(),$("#SP"+n.id).text("Data inválida, por favor verifique!"),!1;if(n.id=="txtDtExpedPF"||n.id=="txtDtNascPF"||n.id=="txtDtAberturaPJ"){if(t[2]>r)return $("#"+n.id).css("border-color","red"),$("#SP"+n.id).show(),$("#SP"+n.id).text("Data inválida, por favor verifique!"),!1;if(t[1]>u[1]&&t[2]>=r||t[2]==r&&t[1]>=u[1]&&parseInt(t[0])>=parseInt(u[0]))return $("#"+n.id).css("border-color","red"),$("#SP"+n.id).show(),$("#SP"+n.id).text("Data não pode ser maior ou a mesma de hoje!"),!1}}else return $("#"+n.id).css("border-color",""),$("#SP"+n.id).hide(),$("#SP"+n.id).text(""),!0}function kH(n){var t=n?n.which:window.event.keyCode;return t!=13}function validaProponentePF(){var n=!0,r=document.getElementById("txtBuscaPessoaPF"),u,f,e,o,s,h,t,i;return r.value==""||r.value.length<2?($("#txtBuscaPessoaPF").css("border-color","red"),$("#SPtxtBuscaPessoaPF").text("Preencha esse campo com um CPF válido!"),$("#SPtxtBuscaPessoaPF").show(),n=!1):verificarCPF(r.value.replace(/[^\d]+/g,""))==!1?($("#txtBuscaPessoaPF").css("border-color","red"),$("#SPtxtBuscaPessoaPF").text("CPF digitado inválido, por favor verifique!"),$("#SPtxtBuscaPessoaPF").show(),n=!1):($("#txtBuscaPessoaPF").css("border-color",""),$("#SPtxtBuscaPessoaPF").text(""),$("#SPtxtBuscaPessoaPF").hide()),u=document.getElementById("txtNomePF"),u.value==""||u.value.length<4?($("#txtNomePF").css("border-color","red"),$("#SPtxtNomePF").show(),n=!1):($("#txtNomePF").css("border-color",""),$("#SPtxtNomePF").hide()),f=document.getElementById("txtLogrPF"),f.value==""||f.value.length<2?($("#txtLogrPF").css("border-color","red"),$("#SPtxtLogrPF").show(),n=!1):($("#txtLogrPF").css("border-color",""),$("#SPtxtLogrPF").hide()),e=document.getElementById("txtNumPF"),e.value==""||e.value.length<1?($("#txtNumPF").css("border-color","red"),$("#SPtxtNumPF").show(),n=!1):($("#txtNumPF").css("border-color",""),$("#SPtxtNumPF").hide()),o=document.getElementById("txtUFPF"),o.value==""||o.value.length<2?($("#txtUFPF").css("border-color","red"),$("#SPtxtUFPF").show(),n=!1):($("#txtUFPF").css("border-color",""),$("#SPtxtUFPF").hide()),s=document.getElementById("txtBairroPF"),s.value==""||s.value.length<2?($("#txtBairroPF").css("border-color","red"),$("#SPtxtBairroPF").show(),n=!1):($("#txtBairroPF").css("border-color",""),$("#SPtxtBairroPF").hide()),h=document.getElementById("txtCidadePF"),h.value==""||h.value.length<2?($("#txtCidadePF").css("border-color","red"),$("#SPtxtCidadePF").show(),n=!1):($("#txtCidadePF").css("border-color",""),$("#SPtxtCidadePF").hide()),t=document.getElementById("txtCEPPF").value.replace(/[^\d]+/g,""),t==""||t.length<2?($("#txtCEPPF").css("border-color","red"),$("#SPtxtCEPPF").show(),n=!1):t.length<8?($("#txtCEPPF").css("border-color","red"),$("#SPtxtCEPPF").text("CEP inválido, por favor verifique para prosseguir!"),$("#SPtxtCEPPF").show(),n=!1):($("#txtCEPPF").css("border-color",""),$("#SPtxtCEPPF").hide()),i=document.getElementById("txtCelularPF").value.replace(/[^\d]+/g,""),i==""||i.length<1?($("#txtCelularPF").css("border-color","red"),$("#SPtxtCelularPF").show(),n=!1):i.length<11?($("#txtCelularPF").css("border-color","red"),$("#SPtxtCelularPF").text("Número de celular inválido, por favor verifique!"),$("#SPtxtCelularPF").show(),n=!1):($("#txtCelularPF").css("border-color",""),$("#SPtxtCelularPF").hide()),n}function validaProponentePF2(){var n=!0,r=document.getElementById("txtRGPF").value.replace(/[^\d]+/g,""),t,u,f,i;r==""||r.length<4?($("#txtRGPF").css("border-color","red"),$("#SPtxtRGPF").show(),n=!1):($("#txtRGPF").css("border-color",""),$("#SPtxtRGPF").hide());t=document.getElementById("txtOrgExpPF");t.value==""||t.value.length<2?($("#txtOrgExpPF").css("border-color","red"),$("#SPtxtOrgExpPF").show(),n=!1):($("#txtOrgExpPF").css("border-color",""),$("#StxtOrgExpPF").hide());u=document.getElementById("txtDtExpedPF");validaData(u)==!1?($("#txtDtExpedPF").css("border-color","red"),$("#SPtxtDtExpedPF").show(),n=!1):($("#txtDtExpedPF").css("border-color",""),$("#SPtxtDtExpedPF").hide());f=document.getElementById("txtDtNascPF");validaData(f)==!1?($("#txtDtNascPF").css("border-color","red"),$("#SPtxtDtNascPF").show(),n=!1):($("#txtDtNascPF").css("border-color",""),$("#SPtxtDtNascPF").hide());i=document.getElementById("txtProfissaoPF");i.value==""||i.value.length<2?($("#txtProfissaoPF").css("border-color","red"),$("#SPtxtProfissaoPF").show(),n=!1):($("#txtProfissaoPF").css("border-color",""),$("#SPtxtProfissaoPF").hide());var e=document.getElementById("rdPrice1").checked,o=document.getElementById("rdPrice2").checked,s=document.getElementById("rdPrice3").checked,h=document.getElementById("rdPrice4").checked,c=document.getElementById("rdPrice5").checked,l=document.getElementById("rdPrice6").checked;e!=!0&&o!=!0&&s!=!0&&h!=!0&&c!=!0&&l!=!0?($("#SPrdPatrimonio").show(),n=!1):$("#SPrdPatrimonio").hide();var a=document.getElementById("rdRenda1").checked,v=document.getElementById("rdRenda2").checked,y=document.getElementById("rdRenda3").checked,p=document.getElementById("rdRenda4").checked,w=document.getElementById("rdRenda5").checked,b=document.getElementById("rdRenda6").checked;return a!=!0&&v!=!0&&y!=!0&&p!=!0&&w!=!0&&b!=!0?($("#SPrdRendaMensal").show(),n=!1):$("#SPrdRendaMensal").hide(),n}function populaCamposDataVigenciaPF(){var t=$("#txtDtFimObra").val(),n,i;$("#txtDataInicialEquip").val(t);n=t.split("/");i=parseInt(n[2])+1;n=n[0]+"/"+n[1]+"/"+i;$("#txtDataFinalEquip").val(n);$("#txtDataFinalEquip").focus()}function populaCamposDataVigenciaPJ(){var t=$("#txtDtPrazoFimObraPJ").val(),n,i;$("#txtVigEquipPJ").val(t);n=t.split("/");i=parseInt(n[2])+1;n=n[0]+"/"+n[1]+"/"+i;$("#txtDtPriVigPJ").val(n);$("#txtDtPriVigPJ").focus()}function validaSeguro(){var n,e,o,s,i,h,t,r,u,f;return validaPassou=!0,n=document.getElementById("txtDtInicioObra"),validaData(n)==!1?($("#txtDtInicioObra").css("border-color","red"),$("#SPtxtDtInicioObra").show(),validaPassou=!1):($("#txtDtInicioObra").css("border-color",""),$("#SPtxtDtInicioObra").hide()),n=document.getElementById("txtDtFimObra"),validaData(n)==!1?($("#txtDtFimObra").css("border-color","red"),$("#SPtxtDtFimObra").show(),validaPassou=!1):($("#txtDtFimObra").css("border-color",""),$("#SPtxtDtFimObra").hide()),valorproj=document.getElementById("txtValorProj"),valorproj.value==""||valorproj.value.length<4?($("#txtValorProj").css("border-color","red"),$("#SPtxtValorProj").show(),validaPassou=!1):($("#txtValorProj").css("border-color",""),$("#SPtxtValorProj").hide()),valorequip=document.getElementById("txtValorEqui"),valorproj.value==""||valorproj.value.length<4?($("#txtValorEqui").css("border-color","red"),$("#SPtxtValorEqui").show(),validaPassou=!1):($("#txtValorEqui").css("border-color",""),$("#SPtxtValorEqui").hide()),e=document.getElementById("txtDataInicialEquip"),validaData(e)==!1?($("#txtDataInicialEquip").css("border-color","red"),$("#SPtxtDataInicialEquip").show(),validaPassou=!1):($("#txtDataInicialEquip").css("border-color",""),$("#SPtxtDataInicialEquip").hide()),o=document.getElementById("txtDataFinalEquip"),validaData(o)==!1?($("#txtDataFinalEquip").css("border-color","red"),$("#SPtxtDataFinalEquip").show(),validaPassou=!1):($("#txtDataFinalEquip").css("border-color",""),$("#SPtxtDataFinalEquip").hide()),s=document.getElementById("txtDataFinalEquip"),validaData(s)==!1?($("#txtDataFinalEquip").css("border-color","red"),$("#SPtxtDataFinalEquip").show(),validaPassou=!1):($("#txtDataFinalEquip").css("border-color",""),$("#SPtxtDataFinalEquip").hide()),i=document.getElementById("txtLocalRisco"),i.value==""||i.value.length<2?($("#txtLocalRisco").css("border-color","red"),$("#SPtxtLocalRisco").show(),validaPassou=!1):($("#txtLocalRisco").css("border-color",""),$("#SPtxtLocalRisco").hide()),h=document.getElementById("txtRiscoNum"),h.value==""?($("#txtRiscoNum").css("border-color","red"),$("#SPtxtRiscoNum").show(),validaPassou=!1):($("#txtRiscoNum").css("border-color",""),$("#SPtxtRiscoNum").hide()),t=document.getElementById("txtRiscoCEP").value.replace(/[^\d]+/g,""),t==""||t.length<2?($("#txtRiscoCEP").css("border-color","red"),$("#SPtxtRiscoCEP").show(),validaPassou=!1):t.length<8?($("#txtRiscoCEP").css("border-color","red"),$("#SPtxtRiscoCEP").text("CEP inválido, por favor verifique para prosseguir!"),$("#SPtxtRiscoCEP").show(),validaPassou=!1):($("#txtRiscoCEP").css("border-color",""),$("#SPtxtRiscoCEP").hide()),r=document.getElementById("txtRiscoBairro"),r.value==""||r.value.length<2?($("#txtRiscoBairro").css("border-color","red"),$("#SPtxtRiscoBairro").show(),validaPassou=!1):($("#txtRiscoBairro").css("border-color",""),$("#SPtxtRiscoBairro").hide()),u=document.getElementById("txtRiscoUF"),u.value==""||u.value.length<2?($("#txtRiscoUF").css("border-color","red"),$("#SPtxtRiscoUF").show(),validaPassou=!1):($("#txtRiscoUF").css("border-color",""),$("#SPtxtRiscoUF").hide()),f=document.getElementById("txtRiscoCidade"),f.value==""||f.value.length<2?($("#txtRiscoCidade").css("border-color","red"),$("#SPtxtRiscoCidade").show(),validaPassou=!1):($("#txtRiscoCidade").css("border-color",""),$("#SPtxtRiscoCidade").hide()),validaPassou}function validaProponentePJ(){var n=!0,i=document.getElementById("txtBuscaPessoaPJ"),r,u,f,e,o,s,h,t,l,c;i.value==""||i.value.length<2?($("#txtBuscaPessoaPJ").css("border-color","red"),$("#SPtxtBuscaPessoaPJ").text("Preencha esse campo com um CNPJ válido!"),$("#SPtxtBuscaPessoaPJ").show(),n=!1):validarCNPJ(i)==!1?($("#txtBuscaPessoaPJ").css("border-color","red"),$("#SPtxtBuscaPessoaPJ").text("CNPJ digitado inválido, por favor verifique!"),$("#SPtxtBuscaPessoaPJ").show(),n=!1):($("#txtBuscaPessoaPJ").css("border-color",""),$("#SPtxtBuscaPessoaPJ").text(""),$("#SPtxtBuscaPessoaPJ").hide());r=document.getElementById("txtNomeFantasiaPJ");r.value==""||r.value.length<4?($("#txtNomeFantasiaPJ").css("border-color","red"),$("#SPtxtNomeFantasiaPJ").show(),n=!1):($("#txtNomeFantasiaPJ").css("border-color",""),$("#SPtxtNomeFantasiaPJ").hide());u=document.getElementById("txtRazaoSocialPJ");u.value==""||u.value.length<4?($("#txtRazaoSocialPJ").css("border-color","red"),$("#SPtxtRazaoSocialPJ").show(),n=!1):($("#txtRazaoSocialPJ").css("border-color",""),$("#SPtxtRazaoSocialPJ").hide());f=document.getElementById("txtLogrPJ");f.value==""||f.value.length<2?($("#txtLogrPJ").css("border-color","red"),$("#SPtxtLogrPJ").show(),n=!1):($("#txtLogrPJ").css("border-color",""),$("#SPtxtLogrPJ").hide());e=document.getElementById("txtNumPJ");e.value==""||e.value.length<1?($("#txtNumPJ").css("border-color","red"),$("#SPtxtNumPJ").show(),n=!1):($("#txtNumPJ").css("border-color",""),$("#SPtxtNumPJ").hide());o=document.getElementById("txtUFPJ");o.value==""||o.value.length<2?($("#txtUFPJ").css("border-color","red"),$("#SPtxtUFPJ").show(),n=!1):($("#txtUFPJ").css("border-color",""),$("#SPtxtUFPJ").hide());s=document.getElementById("txtBairroPJ");s.value==""||s.value.length<2?($("#txtBairroPJ").css("border-color","red"),$("#SPtxtBairroPJ").show(),n=!1):($("#txtBairroPJ").css("border-color",""),$("#SPtxtBairroPJ").hide());h=document.getElementById("txtCidadePJ");h.value==""||h.value.length<2?($("#txtCidadePJ").css("border-color","red"),$("#SPtxtCidadePJ").show(),n=!1):($("#txtCidadePJ").css("border-color",""),$("#SPtxtCidadePJ").hide());t=document.getElementById("txtCEPPJ").value.replace(/[^\d]+/g,"");t==""||t.length<2?($("#txtCEPPJ").css("border-color","red"),$("#SPtxtCEPPJ").show(),n=!1):t.length<8?($("#txtCEPPJ").css("border-color","red"),$("#SPtxtCEPPJ").text("CEP inválido, por favor verifique para prosseguir!"),$("#SPtxtCEPPJ").show(),n=!1):($("#txtCEPPJ").css("border-color",""),$("#SPtxtCEPPJ").hide());l=document.getElementById("txtDtAberturaPJ");validaData(l)==!1?($("#txtDtAberturaPJ").css("border-color","red"),$("#SPtxtDtAberturaPJ").show(),n=!1):($("#txtDtAberturaPJ").css("border-color",""),$("#SPtxtDtAberturaPJ").hide());c=document.getElementById("txtNtAtividade");c.value==""||c.value.length<2?($("#txtNtAtividade").css("border-color","red"),$("#SPtxtNtAtividade").show(),n=!1):($("#txtNtAtividade").css("border-color",""),$("#SPtxtNtAtividade").hide());var a=document.getElementById("rdFatur1").checked,v=document.getElementById("rdFatur2").checked,y=document.getElementById("rdFatur3").checked,p=document.getElementById("rdFatur4").checked,w=document.getElementById("rdFatur5").checked,b=document.getElementById("rdFatur6").checked;return a!=!0&&v!=!0&&y!=!0&&p!=!0&&w!=!0&&b!=!0?($("#SPrdFaturamento").show(),n=!1):$("#SPrdFaturamento").hide(),n}function validaCamposSocietario(){var n,t,u,f,i,e,r;return validaPassou=!0,n=document.getElementById("txtNomeSoc"),n.value==""||n.value.length<2?($("#txtNomeSoc").css("border-color","red"),$("#SPtxtNomeSoc").show(),validaPassou=!1):($("#txtNomeSoc").css("border-color",""),$("#SPtxtNomeSoc").hide()),t=document.getElementById("cmbGrauRelPF"),t.value==""||t.value.length<1?($("#cmbGrauRelPF").css("border-color","red"),$("#SPcmbGrauRel").show(),validaPassou=!1):($("#cmbGrauRelPF").css("border-color",""),$("#SPcmbGrauRel").hide()),u=document.getElementById("rdFisica").checked,f=document.getElementById("rdJuridica").checked,u!=!0&&f!=!0?($("#btnFisica").css("border-color","red"),$("#btnJuridica").css("border-color","red"),$("#SPtxtPFPJ").show(),validaPassou=!1):($("#btnFisica").css("border-color",""),$("#btnJuridica").css("border-color",""),$("#SPtxtPFPJ").hide()),i=document.getElementById("rdPEP-Sim").checked,e=document.getElementById("rdPEP-Nao").checked,i!=!0&&e!=!0?($("#btnPEP-Sim").css("border-color","red"),$("#btnPEP-Nao").css("border-color","red"),$("#SPtxtPEP").show(),validaPassou=!1):($("#btnPEP-Sim").css("border-color",""),$("#btnPEP-Nao").css("border-color",""),$("#SPtxtPEP").hide()),i==!0&&(r=document.getElementById("txtCargoPEP"),r.value==""||r.value.length<2?($("#txtCargoPEP").css("border-color","red"),$("#SPtxtCargoPEP").show(),validaPassou=!1):($("#txtCargoPEP").css("border-color",""),$("#SPtxtCargoPEP").hide())),validaPassou}function validaSocietario(){var n=!0;return objSocietariosList.length==0?($("#SPListSocietario").show(),n=!1):$("#SPListSocietario").hide(),n}function limparCamposSocietario(){$("#txtNomeSoc").val("");$("#cmbGrauRelPF").val("0");$("#btnFisica").removeClass("active");$("#btnJuridica").removeClass("active");$("#btnPEP-Sim").removeClass("active");$("#btnPEP-Nao").removeClass("active");$("#txtCargoPEP").val("");$("#dvCargoPEP").hide();$("#txtNomeSoc").focus()}function adicionarItemLista(){if(validaCamposSocietario()){$("#SPListSocietario").hide();var n=new Societario;n.CarregaDados();n.IdSocietario=objSocietariosList.length+1;objSocietariosList.push(n);limparCamposSocietario();listar()}}function listar(){limparLista();objSocietariosList.forEach(function(n,t){$("#idtbody").append("<tr><td>"+n.IdSocietario+"<\/td><td>"+n.Nome+"<\/td><td>"+n.GrauRelacionamento+"<\/td><td>"+n.Modalidade+"<\/td><td>"+n.Pep+"<\/td><td>"+n.PepProfissao+'<\/td><td style="text-align:center"><img onclick="excluirItemLista('+t+')" src="../ContentAdm/img/imgExcluir.png" alt="X" /><\/td><\/tr>')})}function excluirItemLista(n){objSocietariosList.splice(n,1);listar()}function limparLista(){$("#idtbody").html("")}$(document).ready(function(){mudaPassosPF(1);$("#btnFisica").click(function(){$("#hddPessoa").val("Física")});$("#btnJuridica").click(function(){$("#hddPessoa").val("Jurídica")});$("#btnPEP-Sim").click(function(){$("#hddPep").val("sim")});$("#btnPEP-Nao").click(function(){$("#hddPep").val("não")});$("#cmbGrauRelPF").change(function(){$("#cmbGrauRelPF").val()=="1"&&$("#hddGrau").val("administrador");$("#cmbGrauRelPF").val()=="2"&&$("#hddGrau").val("procurador");$("#cmbGrauRelPF").val()=="3"&&$("#hddGrau").val("controlador")});$("#txtCEPPF").blur(function(){var n=$("#txtCEPPF").val().replace(/[^\d]+/g,"");$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultaEnderecoSeguradoPorCepAsync",data:'{cep: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.Enderecos[0].Logradouro&&($("#txtLogrPF").val(n.d.Enderecos[0].Logradouro),$("#txtLogrPF").focus(),$("#txtNumPF").val(n.d.Enderecos[0].NumeroLogr),$("#txtNumPF").focus(),$("#txtBairroPF").val(n.d.Enderecos[0].Bairro),$("#txtBairroPF").focus(),$("#txtCidadePF").val(n.d.Enderecos[0].Cidade),$("#txtCidadePF").focus(),$("#txtUFPF").val(n.d.Enderecos[0].UF),$("#txtUFPF").focus())})});$("#txtRiscoCEP").blur(function(){var n=$("#txtRiscoCEP").val().replace(/[^\d]+/g,"");$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultaEnderecoRiscoPorCepAsync",data:'{cep: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.LocalRisco&&($("#txtLocalRisco").val(n.d.LocalRisco),$("#txtLocalRisco").focus(),$("#txtRiscoNum").val(n.d.NumeroLocalRisco),$("#txtRiscoNum").focus(),$("#txtRiscoBairro").val(n.d.BairroRisco),$("#txtRiscoBairro").focus(),$("#txtRiscoCidade").val(n.d.CidadeRisco),$("#txtRiscoCidade").focus(),$("#txtRiscoUF").val(n.d.UF_Risco),$("#txtRiscoUF").focus())})});$("#txtCEPPJ").blur(function(){var n=$("#txtCEPPJ").val().replace(/[^\d]+/g,"");$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultaEnderecoSeguradoPorCepAsync",data:'{cep: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.Enderecos[0].Logradouro&&($("#txtLogrPJ").val(n.d.Enderecos[0].Logradouro),$("#txtLogrPJ").focus(),$("#txtNumPJ").val(n.d.Enderecos[0].NumeroLogr),$("#txtNumPJ").focus(),$("#txtBairroPJ").val(n.d.Enderecos[0].Bairro),$("#txtBairroPJ").focus(),$("#txtCidadePJ").val(n.d.Enderecos[0].Cidade),$("#txtCidadePJ").focus(),$("#txtUFPJ").val(n.d.Enderecos[0].UF),$("#txtUFPJ").focus())})});$("#txtRiscoCEPPJ").blur(function(){var n=$("#txtRiscoCEPPJ").val().replace(/[^\d]+/g,"");$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultaEnderecoRiscoPorCepAsync",data:'{cep: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.LocalRisco&&($("#txtLocalRiscoPJ").val(n.d.LocalRisco),$("#txtLocalRiscoPJ").focus(),$("#txtRiscoNumPJ").val(n.d.NumeroLocalRisco),$("#txtRiscoNumPJ").focus(),$("#txtRiscoBairroPJ").val(n.d.BairroRisco),$("#txtRiscoBairroPJ").focus(),$("#txtRiscoCidadePJ").val(n.d.CidadeRisco),$("#txtRiscoCidadePJ").focus(),$("#txtRiscoUFPJ").val(n.d.UF_Risco),$("#txtRiscoUFPJ").focus())})});$("#txtBuscaPessoaPF").blur(function(){var n=$("#txtBuscaPessoaPF").val().replace(/[^\d]+/g,"");n.length!=0&&$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultarSeguradoPorCpfAsync",data:'{cpf: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.Nome&&($("#hddIdSegurado").val(n.d.IdSegurado),$("#txtNomePF").val(n.d.Nome),$("#txtNomePF").focus(),$("#txtCEPPF").val(n.d.Enderecos[0].CEP),$("#txtCEPPF").focus(),$("#txtLogrPF").val(n.d.Enderecos[0].Logradouro),$("#txtLogrPF").focus(),$("#txtNumPF").val().length==0&&($("#txtNumPF").val(n.d.Enderecos[0].NumeroLogr),$("#txtNumPF").focus()),$("#txtBairroPF").val(n.d.Enderecos[0].Bairro),$("#txtBairroPF").focus(),$("#txtCidadePF").val(n.d.Enderecos[0].Cidade),$("#txtCidadePF").focus(),$("#txtUFPF").val(n.d.Enderecos[0].UF),$("#txtUFPF").focus(),$("#txtCelularPF").val(n.d.Celular),$("#txtCelularPF").focus(),$("#txtRGPF").val(n.d.RG),$("#txtRGPF").focus(),$("#txtOrgExpPF").val(n.d.OrgaoExp),$("#txtOrgExpPF").focus(),$("#txtDtExpedPF").val(n.d.STRDataExp),$("#txtDtExpedPF").focus(),$("#txtDtNascPF").val(n.d.STRDataNascimento),$("#txtDtNascPF").focus(),$("#txtProfissaoPF").val(n.d.Profissao),$("#txtProfissaoPF").focus())})});$("#txtBuscaPessoaPJ").blur(function(){var n=$("#txtBuscaPessoaPJ").val().replace(/[^\d]+/g,"");n.length!=0&&$.ajax({method:"POST",url:"calculoPessoa.aspx/ConsultarSeguradoPorCnpjAsync",data:'{cnpj: "'+n+'"}',contentType:"application/json; charset=utf-8",dataType:"json"}).done(function(n){n.d.RazaoSocial&&($("#hddIdSegurado").val(n.d.IdSegurado),$("#txtNomePJ").val(n.d.Nome),$("#txtNomePJ").focus(),$("#txtNomeFantasiaPJ").val(n.d.NomeFantasia),$("#txtNomeFantasiaPJ").focus(),$("#txtRazaoSocialPJ").val(n.d.RazaoSocial),$("#txtRazaoSocialPJ").focus(),$("#txtCEPPJ").val(n.d.Enderecos[0].CEP),$("#txtCEPPJ").focus(),$("#txtLogrPJ").val(n.d.Enderecos[0].Logradouro),$("#txtLogrPJ").focus(),$("#txtNumPJ").val(n.d.Enderecos[0].NumeroLogr),$("#txtNumPJ").focus(),$("#txtBairroPJ").val(n.d.Enderecos[0].Bairro),$("#txtBairroPJ").focus(),$("#txtCidadePJ").val(n.d.Enderecos[0].Cidade),$("#txtCidadePJ").focus(),$("#txtUFPJ").val(n.d.Enderecos[0].UF),$("#txtUFPJ").focus())})});$("#slValorProjPJ").on("change",function(){var n=$("#slValorProjPJ").val().replace(/[^\d]+/g,""),t=parseFloat(n);$("#spVlrTotalPJ").text(String(t).replace(".",","));formataValorCotacao()});$("#txtDataInicialEquip").focus(function(){$("#txtDtFimObra").val().length>0&&populaCamposDataVigenciaPF()});$("#txtVigEquipPJ").focus(function(){$("#txtDtPrazoFimObraPJ").val().length>0&&populaCamposDataVigenciaPJ()});$("ins").priceFormat({prefix:"R$ ",centsSeparator:",",thousandsSeparator:"."});$(".valor-formato").priceFormat({prefix:"R$ ",centsSeparator:",",thousandsSeparator:"."})});$(function(){$(document).on("click","#lkCpfPF, #lkCpfPJ",function(){$("#btnPessoaPF, #btnPessoaPJ").text("CPF");$("#txtCPF_CNPJ").show();$("#txtBuscaPessoaPF").focus();$(".cpf").on("keydown.mask",function(){var n,i,t;n=$(this);i=n.val().replace(/\D/g,"");t=$(n);i.length>11?t.mask("9?99.999.999-99"):t.mask("9?99.999.999-99")});mudaPassosPF(3)});$("#txtVigEquip").change(function(){$("#txtVigEquip").focus()});$("#txtDtPriVig").change(function(){$("#txtDtPriVig").focus()});$(document).on("click","#lkCnpjPJ, #lkCnpjPF",function(){$("#btnPessoaPF, #btnPessoaPJ").text("CNPJ");$(".cnpj").on("keydown.mask",function(){var n,i,t;n=$(this);i=n.val().replace(/\D/g,"");t=$(n);i.length>14?t.mask("9?9.999.999/9999-99"):t.mask("9?9.999.999/9999-99")});mudaPassosPJ(3)});$(".cnpj").on("keydown.mask",function(){var n,i,t;n=$(this);i=n.val().replace(/\D/g,"");t=$(n);i.length>10?t.mask("9?9.999.999/9999-99"):t.mask("9?9.999.999/9999-99")});$(".data").on("keydown.mask",function(){var n,i,t;n=$(this);i=n.val().replace(/\D/g,"");t=$(n);i.length>10?t.mask("9?9/99/9999"):t.mask("9?9/99/9999")});$(document).on("click","#btnFisica",function(){$("#btnJuridica").removeClass("active");$("#btnFisica").addClass("active")});$(document).on("click","#btnJuridica",function(){$("#btnFisica").removeClass("active");$("#btnJuridica").addClass("active")});$(document).on("click","#btnPEP-Sim",function(){$("#btnPEP-Nao").removeClass("active");$("#btnPEP-Sim").addClass("active")});$(document).on("click","#btnPEP-Nao",function(){$("#btnPEP-Sim").removeClass("active");$("#btnPEP-Nao").addClass("active")});$(document).on("click","#btnPEP-Sim, #btnPEP-Nao",function(){var n=$("#rdPEP-Sim").is(":checked"),t=$("#rdPEP-Nao").is(":checked");n?$("#dvCargoPEP").css("display","block"):t?$("#dvCargoPEP").css("display","none"):$("#dvCargoPEP").css("display","none")});$(".calendario").datepicker({dateFormat:"dd/mm/yy",dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],dayNamesMin:["D","S","T","Q","Q","S","S","D"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],changeMonth:!0,changeYear:!0,onSelect:function(){$(this).next().addClass("active")}})});document.onkeypress=kH;document.layers&&document.captureEvents(Event.KEYPRESS);let objSocietariosList=[];class Societario{constructor(){this.IdSocietario;this.IdSegurado;this.Nome;this.GrauRelacionamento;this.Modalidade;this.Pep;this.PepProfissao;this.Deletado}CarregaDados(){this.IdSegurado=$("#hddIdSegurado").val();this.Nome=$("#txtNomeSoc").val();this.GrauRelacionamento=$("#hddGrau").val();this.Modalidade=$("#hddPessoa").val();this.Pep=$("#hddPep").val();this.PepProfissao=$("#txtCargoPEP").val();this.Deletado=!1}}
/*
//# sourceMappingURL=calculoPessoa.min.js.map
*/